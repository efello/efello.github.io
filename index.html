<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Flo | Grid Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --grid-gap: 1rem;
      --background-color: #0a0a0a;
      --text-color: #E5E7EB;
      --border-radius: 0.5rem;
    }

    *, *::before, *::after {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: var(--grid-gap);
      background-color: var(--background-color);
      color: var(--text-color);
    }

    img, video {
      max-width: 100%;
      height: auto;
      display: block;
    }

    /* --- Grid Layout --- */
    .gallery-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      gap: var(--grid-gap);
    }

    .grid-item {
      background-color: #111; /* Default background for items */
      border-radius: var(--border-radius);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      animation: fadeIn 1s ease-in-out forwards;
      opacity: 0;
      animation-delay: var(--animation-delay, 0s);
    }
    
    /* Classes for column and row spanning */
    .grid-col-span-2 { grid-column: span 2; }
    .grid-col-span-3 { grid-column: span 3; }
    .grid-row-span-2 { grid-row: span 2; }
    
    @media (max-width: 768px) {
        /* On smaller screens, force featured items to take full width */
       .grid-col-span-2,
       .grid-col-span-3 {
           grid-column: span 1;
       }
    }


    /* --- Content Styling --- */
    .grid-item__media {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .grid-item__text-content {
      padding: 2rem 1.5rem;
      display: flex;
      flex-direction: column;
      justify-content: center;
      flex-grow: 1;
    }
    
    .grid-item__title {
      font-size: 1.75rem;
      font-weight: 700;
      margin: 0 0 1rem 0;
    }

    .grid-item__body {
      font-size: 1rem;
      line-height: 1.6;
      margin: 0;
    }
    
    .grid-item__body a {
      text-decoration: underline;
      color: inherit;
      opacity: 0.8;
      transition: opacity 0.2s ease;
    }

    .grid-item__body a:hover {
      opacity: 1;
    }

    /* --- Animation --- */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>

  <main class="gallery-container" id="gallery-container"></main>

  <script>
    const galleryItems = [
      { file: "flohaxovl.png", type: 'image' },
      {
        type: 'text',
        title: 'Responsive Grid',
        content: 'This portfolio is now a responsive grid. Items automatically wrap and resize. You can even feature specific items by making them span multiple columns or rows.',
        bgColor: '#1F2937',
        textColor: '#9CA3AF'
      },
      // This item will span two columns on wider screens
      { file: "flocloudwaveii.png", type: 'image', colSpan: 2, rowSpan: 2 },
      { file: "flowatvpfe.png", type: 'image' },
      { file: "flolosangeb.png", type: 'image' },
      // A video example
      { file: "flo x color cool.mp4", type: 'video' },
      { file: "flofriiibi.png", type: 'image' },
      {
        type: 'text',
        content: 'For inquiries or collaborations, please feel free to get in touch. <br><br> <a href="mailto:florent.campana@gmail.com">contact</a>',
        bgColor: '#374151',
        textColor: '#D1D5DB'
      }
    ];

    const mediaPath = "images/";
    const galleryContainer = document.getElementById('gallery-container');

    galleryItems.forEach((item, index) => {
      const gridItem = document.createElement('div');
      gridItem.className = 'grid-item';
      
      // Stagger the animation
      gridItem.style.setProperty('--animation-delay', `${index * 50}ms`);

      // Apply column and row spans if they exist in the data
      if (item.colSpan) gridItem.classList.add(`grid-col-span-${item.colSpan}`);
      if (item.rowSpan) gridItem.classList.add(`grid-row-span-${item.rowSpan}`);

      switch (item.type) {
        case 'image': {
          const img = document.createElement('img');
          img.src = `${mediaPath}${item.file}`;
          img.alt = `Image: ${item.file}`;
          img.className = 'grid-item__media';
          img.loading = 'lazy'; // Improve performance
          img.onerror = () => console.error(`Failed to load image: ${img.src}`);
          gridItem.appendChild(img);
          break;
        }

        case 'video': {
          const video = document.createElement('video');
          video.src = `${mediaPath}${item.file}`;
          video.className = 'grid-item__media';
          video.autoplay = true;
          video.loop = true;
          video.muted = true;
          video.playsInline = true;
          video.onerror = () => console.error(`Failed to load video: ${video.src}`);
          gridItem.appendChild(video);
          break;
        }

        case 'text': {
          gridItem.style.backgroundColor = item.bgColor || '#111827';
          gridItem.style.color = item.textColor || 'inherit';

          const textContent = document.createElement('div');
          textContent.className = 'grid-item__text-content';

          let innerHTML = '';
          if (item.title) {
            innerHTML += `<h2 class="grid-item__title">${item.title}</h2>`;
          }
          if (item.content) {
            innerHTML += `<p class="grid-item__body">${item.content}</p>`;
          }
          textContent.innerHTML = innerHTML;
          gridItem.appendChild(textContent);
          break;
        }
      }
      
      galleryContainer.appendChild(gridItem);
    });
  </script>

</body>
</html>